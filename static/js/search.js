var suggestions=document.getElementById("suggestions"),userinput=document.getElementById("userinput");function inputFocus(e){191===e.keyCode&&"INPUT"!==document.activeElement.tagName&&"TEXTAREA"!==document.activeElement.tagName&&(e.preventDefault(),userinput.focus()),27===e.keyCode&&(userinput.blur(),suggestions.classList.add("d-none"))}function suggestionFocus(t){var n=suggestions.querySelectorAll("a");if(!suggestions.classList.contains("d-none")&&0!==n.length){var s=[...n],r=s.indexOf(document.activeElement);let e=0;38===t.keyCode?(t.preventDefault(),n[e=0<r?r-1:0].focus()):40===t.keyCode&&(t.preventDefault(),n[e=r+1<s.length?r+1:r].focus())}}function substringByByte(e,t){for(var n="",s=!1,r=0,i=0,o=0,u=0;u<e.length;u++){var a=e.codePointAt(u).toString(16);if(s=4<a.length&&++u+1<e.length?"200d"==e.codePointAt(u+1).toString(16):s){if(r+=getByteByHex(a),u==e.length-1){if(!((i+=r)<=t))break;n+=e.substr(o,u-o+1)}}else if(0!=r){if(!((i=(i+=r)+getByteByHex(a))<=t))break;n+=e.substr(o,u-o+1),o=u+1,r=0}else{if(!((i+=getByteByHex(a))<=t))break;a.length<=4?n+=e[u]:n+=e[u-1]+e[u],o=u+1}}return n}function getByteByBinary(e){return[0,1,2,3,4][Math.ceil(e.length/8)]}function getByteByHex(e){return getByteByBinary(parseInt(e,16).toString(2))}document.addEventListener("keydown",inputFocus),document.addEventListener("click",function(e){suggestions.contains(e.target)||suggestions.classList.add("d-none")}),document.addEventListener("keydown",suggestionFocus),function(){var u=elasticlunr.Index.load(window.searchIndex);userinput.addEventListener("input",function(){var n,e=this.value.trim(),s=u.search(e,{bool:"OR",fields:{title:{boost:2},body:{boost:1}}}),r=suggestions.childNodes,i=s.length,o=e.split(/\s+/);suggestions.classList.remove("d-none"),s.forEach(function(e){""!==e.doc.body&&((n=document.createElement("div")).innerHTML='<a href class="flex m-2 p-3 no-underline hover:underline text-neutral-900 dark:text-neutral-100 bg-white dark:bg-neutral-800 dark:hover:bg-neutral-700"><span class="inline-block text-right w-36 pr-4 font-bold text-base"></span><span class="w-80 pl-4 border-l border-neutral-200 dark:border-neutral-200"></span></a>',a=n.querySelector("a"),t=n.querySelector("span:first-child"),d=n.querySelector("span:nth-child(2)"),a.href=e.ref,t.textContent=e.doc.title,d.innerHTML=function(e,t){var n=t.map(function(e){return elasticlunr.stemmer(e.toLowerCase())}),s=!1,r=0,i=[],o=e.toLowerCase().split(". ");for(f in o){var u,a=o[f].split(/[\s\n]/),l=8;for(u in a){if(0<(m=a[u]).length){for(var g in n)elasticlunr.stemmer(m).startsWith(n[g])&&(l=40,s=!0);i.push([m,l,r]),l=2}r=r+m.length+1}r+=1}if(0===i.length)return void 0!==e.length&&300<e.length?e.substring(0,300)+"...":e;for(var d=[],c=Math.min(i.length,30),h=0,f=0;f<c;f++)h+=i[f][1];d.push(h);for(f=0;f<i.length-c;f++)h=(h-=i[f][1])+i[f+c][1],d.push(h);var p=0;if(s)for(var v=0,f=d.length-1;0<=f;f--)v<d[f]&&(v=d[f],p=f);for(var y=[],b=i[p][2],f=p;f<p+c;f++){var m,B;b<(m=i[f])[2]&&(y.push(e.substring(b,m[2])),b=m[2]),40===m[1]&&y.push("<b>"),b=m[2]+m[0].length;40!==m[1]&&12<=m[0].length&&!/^[\x00-\xff]+$/.test(m[0])?(B=substringByByte(e.substring(m[2],b),12),y.push(B)):y.push(e.substring(m[2],b)),40===m[1]&&y.push("</b>")}return y.push("â€¦"),y.join("")}(e.doc.body,o),suggestions.appendChild(n))});for(;r.length>i;)suggestions.removeChild(r[0])},!0),suggestions.addEventListener("click",function(){for(;suggestions.lastChild;)suggestions.removeChild(suggestions.lastChild);return!1},!0)}();